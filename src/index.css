/* ========================================
   Design System Entry Point
   ======================================== */

/* Tailwind must come first */
@tailwind base;
@tailwind components;
@tailwind utilities;

/* Custom glass tier effects */
@import "./styles/glass-tiers.css";

/* Reduced motion support */
@import "./styles/reduced-motion.css";

/* Google Fonts */
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Raleway:wght@400;500;600;700;800;900&display=swap');

/* ========================================
   Typography System (Raleway Roles)
   ======================================== */
@layer base {
  /* Display – hero headlines and landing pages */
  .font-display {
    font-family: 'Raleway', sans-serif;
    font-weight: 800;
    letter-spacing: -0.02em;
  }

  /* Headings – semantic hierarchy */
  h1, .h1 {
    font-family: 'Raleway', sans-serif;
    font-weight: 700;
    font-size: 2.5rem;
    line-height: 1.2;
    letter-spacing: -0.015em;
  }

  h2, .h2 {
    font-family: 'Raleway', sans-serif;
    font-weight: 700;
    font-size: 2rem;
    line-height: 1.25;
    letter-spacing: -0.01em;
  }

  h3, .h3 {
    font-family: 'Raleway', sans-serif;
    font-weight: 600;
    font-size: 1.5rem;
    line-height: 1.3;
  }

  h4, .h4 {
    font-family: 'Raleway', sans-serif;
    font-weight: 600;
    font-size: 1.25rem;
    line-height: 1.4;
  }

  h5, .h5 {
    font-family: 'Raleway', sans-serif;
    font-weight: 600;
    font-size: 1.125rem;
    line-height: 1.4;
  }

  h6, .h6 {
    font-family: 'Raleway', sans-serif;
    font-weight: 600;
    font-size: 1rem;
    line-height: 1.5;
  }

  /* Body – primary content text */
  body {
    font-family: 'Inter', sans-serif;
    font-weight: 400;
    font-size: 1rem;
    line-height: 1.6;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    text-rendering: optimizeLegibility;
  }

  /* Mono – code and technical content */
  code, pre, .font-mono {
    font-family: 'Courier New', monospace;
    font-size: 0.875rem;
  }
}

/* ========================================
   Root Variables (Hydrated at Runtime)
   ======================================== */
:root,
[data-theme="public"] {
  /* Theme tokens – dark space-inspired public mode */
  --background: #0b1f3a;
  --surface: #0f274a;
  --surface-raised: #132f54;
  --text-primary: #E6F0FF;
  --text-secondary: #9FB4D1;
  --text-tertiary: #6b7e94;
  --accent: #1E66F5;
  --accent-on: #FFFFFF;
  --border: rgba(180,200,255,0.18);
  --focus: #7AA2FF;

  /* Elevation tokens – enhanced for dark theme */
  --elevation-1: 0 1px 2px 0 rgb(0 0 0 / 0.3);
  --elevation-2: 0 4px 6px -1px rgb(0 0 0 / 0.4);
  --elevation-4: 0 10px 15px -3px rgb(0 0 0 / 0.5);
  --elevation-8: 0 20px 25px -5px rgb(0 0 0 / 0.6);
  --elevation-16: 0 25px 50px -12px rgb(0 0 0 / 0.7);
  --elevation-24: 0 35px 60px -15px rgb(0 0 0 / 0.8);

  /* Radius tokens */
  --radius-sm: 8px;
  --radius-md: 12px;
  --radius-lg: 16px;
  --radius-xl: 24px;

  /* Glass effect tokens – translucent panels for dark theme */
  --glass-fill: rgba(8, 19, 40, 0.55);
  --glass-border: rgba(180, 200, 255, 0.18);
  --glass-blur: 16px;
  --glass-bg: rgba(8, 19, 40, 0.55);
  --glass-vibrancy: 1.15;
  --glass-bright: 1.06;
  --glass-refraction-blur: 6px;
  --glass-displace: 10;

  /* Card tokens – glass surface for dark theme */
  --card-bg: rgba(8, 19, 40, 0.55);
  --card-fg: #E6F0FF;
  --card-fg-muted: #9FB4D1;
  --card-border: rgba(180, 200, 255, 0.18);
  --card-shadow: 0 4px 12px rgba(0,0,0,0.4), 0 0 1px rgba(180,200,255,0.1);
  --card-bg-hover: rgba(8, 19, 40, 0.7);
  --card-ring: #7AA2FF;
  
  /* Legacy tokens for backward compatibility */
  --pb-blue: #489FE3;
  --text-ink: var(--text-primary);
  --text-ink-d: var(--text-primary);
  --shadow-md: var(--elevation-4);
  --shadow-lg: var(--elevation-8);
  --radius: var(--radius-lg);
  --t-fast: 120ms;
  --t-med: 220ms;
  --ease: cubic-bezier(.2, .6, .2, 1);
  --dock-h: 88px;
  --dock-gap: 24px;
}

/* Business mode – light theme override */
[data-theme="business"] {
  --background: hsl(0, 0%, 98%);
  --surface: hsl(0, 0%, 100%);
  --surface-raised: hsl(0, 0%, 100%);
  --text-primary: hsl(212, 84%, 7%);
  --text-secondary: hsl(215, 16%, 47%);
  --text-tertiary: hsl(215, 20%, 65%);
  --accent: hsl(221, 83%, 53%);
  --accent-on: hsl(0, 0%, 100%);
  --border: hsl(210, 20%, 88%);
  --focus: hsl(221, 83%, 53%);

  /* Elevation tokens – lighter shadows for light theme */
  --elevation-1: 0 1px 2px 0 rgb(0 0 0 / 0.05);
  --elevation-2: 0 4px 6px -1px rgb(0 0 0 / 0.1);
  --elevation-4: 0 10px 15px -3px rgb(0 0 0 / 0.1);
  --elevation-8: 0 20px 25px -5px rgb(0 0 0 / 0.1);
  --elevation-16: 0 25px 50px -12px rgb(0 0 0 / 0.25);
  --elevation-24: 0 35px 60px -15px rgb(0 0 0 / 0.3);

  /* Glass effect tokens – light theme glass */
  --glass-fill: rgba(255, 255, 255, 0.48);
  --glass-border: rgba(255, 255, 255, 0.55);
  --glass-blur: 18px;
  --glass-bg: rgba(255, 255, 255, 0.48);

  /* Card tokens – light surfaces for business mode */
  --card-bg: hsl(210, 40%, 98%);
  --card-fg: hsl(212, 84%, 7%);
  --card-fg-muted: hsl(215, 16%, 47%);
  --card-border: hsl(206, 30%, 85%);
  --card-shadow: 0 1px 2px rgba(0,0,0,.06), 0 8px 24px rgba(0,0,0,.06);
  --card-bg-hover: hsl(210, 40%, 96%);
  --card-ring: hsl(206, 74%, 59%);
}

/* ========================================
   Global Resets
   ======================================== */
@layer base {
  * {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
  }

  html {
    color-scheme: light;
    scroll-behavior: smooth;
  }

  body {
    margin: 0;
    overflow-x: hidden;
  }

  /* Focus styles for accessibility */
  :focus-visible {
    outline: 2px solid var(--focus);
    outline-offset: 2px;
    border-radius: 4px;
  }

  /* Reduced motion support */
  @media (prefers-reduced-motion: reduce) {
    *, *::before, *::after {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
    }
  }
}

/* ========================================
   Enforce Token-Based Background
   ======================================== */
html {
  background: var(--background) !important;
  min-height: 100vh;
  min-height: -webkit-fill-available;
}

body {
  background: var(--background) !important;
  color: var(--text-primary) !important;
  transition: background 0.3s ease, color 0.3s ease;
  min-height: 100vh;
  min-height: -webkit-fill-available;
}

#root {
  min-height: 100vh;
  min-height: -webkit-fill-available;
}

/* ========================================
   Glass Button Utility
   ======================================== */
@layer components {
  .glassButton {
    background: var(--glass-bg);
    color: var(--text-primary);
    border: 1px solid var(--glass-border);
    backdrop-filter: blur(var(--glass-blur));
    border-radius: 0.75rem;
    padding: 0.5rem 1rem;
    transition: transform 0.08s ease, background-color 0.15s ease, border-color 0.15s ease;
    cursor: pointer;
    font-weight: 500;
  }
  
  .glassButton:hover {
    background: color-mix(in oklab, var(--glass-bg), white 4%);
  }
  
  .glassButton:active {
    transform: translateY(1px);
  }
  
  .glassButton--accent {
    background: var(--accent);
    color: var(--accent-on);
    border-color: var(--accent);
  }
  
  .glassButton--accent:hover {
    background: color-mix(in oklab, var(--accent), white 8%);
  }
  
  .glassButton--muted {
    color: var(--text-secondary);
  }
  
  .glassButton:disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }
}

/* Floating animation for gradient orbs */
@keyframes float {
  0%, 100% {
    transform: translate(0, 0) scale(1);
  }
  25% {
    transform: translate(30px, -30px) scale(1.05);
  }
  50% {
    transform: translate(-20px, 20px) scale(0.95);
  }
  75% {
    transform: translate(40px, 10px) scale(1.02);
  }
}

.animate-float {
  animation: float 30s ease-in-out infinite;
}