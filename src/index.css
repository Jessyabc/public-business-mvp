/* ========================================
   Design System Entry Point
   ======================================== */

/* Tailwind must come first */
@tailwind base;
@tailwind components;
@tailwind utilities;

/* Google Fonts */
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Raleway:wght@400;500;600;700;800;900&display=swap');

/* ========================================
   Typography System (Raleway Roles)
   ======================================== */
@layer base {
  /* Display – hero headlines and landing pages */
  .font-display {
    font-family: 'Raleway', sans-serif;
    font-weight: 800;
    letter-spacing: -0.02em;
  }

  /* Headings – semantic hierarchy */
  h1, .h1 {
    font-family: 'Raleway', sans-serif;
    font-weight: 700;
    font-size: 2.5rem;
    line-height: 1.2;
    letter-spacing: -0.015em;
  }

  h2, .h2 {
    font-family: 'Raleway', sans-serif;
    font-weight: 700;
    font-size: 2rem;
    line-height: 1.25;
    letter-spacing: -0.01em;
  }

  h3, .h3 {
    font-family: 'Raleway', sans-serif;
    font-weight: 600;
    font-size: 1.5rem;
    line-height: 1.3;
  }

  h4, .h4 {
    font-family: 'Raleway', sans-serif;
    font-weight: 600;
    font-size: 1.25rem;
    line-height: 1.4;
  }

  h5, .h5 {
    font-family: 'Raleway', sans-serif;
    font-weight: 600;
    font-size: 1.125rem;
    line-height: 1.4;
  }

  h6, .h6 {
    font-family: 'Raleway', sans-serif;
    font-weight: 600;
    font-size: 1rem;
    line-height: 1.5;
  }

  /* Body – primary content text */
  body {
    font-family: 'Inter', sans-serif;
    font-weight: 400;
    font-size: 1rem;
    line-height: 1.6;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    text-rendering: optimizeLegibility;
  }

  /* Mono – code and technical content */
  code, pre, .font-mono {
    font-family: 'Courier New', monospace;
    font-size: 0.875rem;
  }
}

/* ========================================
   Root Variables (Hydrated at Runtime)
   ======================================== */
:root {
  /* Theme tokens – hydrated by ThemeInjector */
  --background: hsl(210, 40%, 98%);
  --surface: hsl(0, 0%, 100%);
  --surface-raised: hsl(0, 0%, 100%);
  --text-primary: hsl(212, 84%, 7%);
  --text-secondary: hsl(215, 16%, 47%);
  --text-tertiary: hsl(215, 20%, 65%);
  --accent: hsl(202, 72%, 63%);
  --accent-on: hsl(0, 0%, 100%);
  --border: hsl(206, 30%, 85%);
  --focus: hsl(206, 74%, 59%);

  /* Elevation tokens */
  --elevation-1: 0 1px 2px 0 rgb(0 0 0 / 0.05);
  --elevation-2: 0 4px 6px -1px rgb(0 0 0 / 0.1);
  --elevation-4: 0 10px 15px -3px rgb(0 0 0 / 0.1);
  --elevation-8: 0 20px 25px -5px rgb(0 0 0 / 0.1);
  --elevation-16: 0 25px 50px -12px rgb(0 0 0 / 0.25);
  --elevation-24: 0 35px 60px -15px rgb(0 0 0 / 0.3);

  /* Radius tokens */
  --radius-sm: 8px;
  --radius-md: 12px;
  --radius-lg: 16px;
  --radius-xl: 24px;

  /* Glass effect tokens – hydrated by ThemeInjector */
  --glass-fill: rgba(255, 255, 255, 0.48);
  --glass-border: rgba(255, 255, 255, 0.55);
  --glass-blur: 18px;
  --glass-vibrancy: 1.15;
  --glass-bright: 1.06;
  --glass-refraction-blur: 6px;
  --glass-displace: 8;

  /* Legacy tokens for backward compatibility */
  --pb-blue: #489FE3;
  --text-ink: var(--text-primary);
  --text-ink-d: var(--text-primary);
  --shadow-md: var(--elevation-4);
  --shadow-lg: var(--elevation-8);
  --radius: var(--radius-lg);
  --t-fast: 120ms;
  --t-med: 220ms;
  --ease: cubic-bezier(.2, .6, .2, 1);
  --dock-h: 88px;
  --dock-gap: 24px;
}

/* ========================================
   Global Resets
   ======================================== */
@layer base {
  * {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
  }

  html {
    color-scheme: light;
    scroll-behavior: smooth;
  }

  body {
    margin: 0;
    overflow-x: hidden;
  }

  /* Focus styles for accessibility */
  :focus-visible {
    outline: 2px solid var(--focus);
    outline-offset: 2px;
    border-radius: 4px;
  }

  /* Reduced motion support */
  @media (prefers-reduced-motion: reduce) {
    *, *::before, *::after {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
    }
  }
}