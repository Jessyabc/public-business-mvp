import{u as L,r as a,j as e,h as U,i as q,k as j,l as f,m as l,I as r,B as u,E as b,n as v,o as z,q as t}from"./index-DdiXzYE2.js";function M(){const{signIn:y,signUp:N,user:D}=L(),[c,h]=a.useState(""),[i,p]=a.useState(""),[m,w]=a.useState(""),[n,x]=a.useState(!1),[d,o]=a.useState(!1),[g,S]=a.useState(""),[C,P]=a.useState(""),[E,F]=a.useState(""),[k,B]=a.useState("");a.useEffect(()=>{document.title="Sign in or create account | Public Business";const s=document.querySelector('meta[name="description"]');s&&s.setAttribute("content","Sign in or sign up to Public Business to share brainstorms and insights.")},[]);const A=async()=>{if(!c||!i){t.error("Please fill in all fields");return}o(!0);const{error:s}=await y(c,i);s?t.error(s.message):t.success("Welcome back!"),o(!1)},I=async()=>{if(!c||!i||!m||!g){t.error("Please fill in all required fields");return}if(i!==m){t.error("Passwords do not match");return}if(i.length<8){t.error("Password must be at least 8 characters");return}o(!0);try{const{error:s}=await N(c,i,"public");if(s){t.error(s.message),o(!1);return}t.success("Account created! Check your email to verify.")}catch(s){const T=s instanceof Error||s&&typeof s=="object"&&"message"in s&&typeof s.message=="string"?s.message:"Failed to create account";t.error(T)}finally{o(!1)}};return e.jsxs("main",{className:"container mx-auto max-w-xl px-4 py-12 mt-24",children:[e.jsxs("header",{className:"text-center mb-8 flex flex-col items-center gap-4",children:[e.jsx("img",{src:"/lovable-uploads/e501941c-3e1a-4f5a-a8d1-d3ad167d2e0c.png",alt:"Public Business Logo",className:"h-20 w-auto"}),e.jsx("h1",{className:"text-3xl font-semibold text-foreground",children:"Sign in or Create account"}),e.jsx("p",{className:"text-muted-foreground mt-2",children:"Access brainstorms and business insights."})]}),e.jsxs("section",{className:"glass-card border rounded-xl p-6 bg-background/95 backdrop-blur-md",children:[e.jsx("div",{className:"scrim"}),e.jsx("div",{className:"relative z-10",children:e.jsxs(U,{defaultValue:"signin",className:"w-full",children:[e.jsxs(q,{className:"grid grid-cols-2 w-full",children:[e.jsx(j,{value:"signin",children:"Sign In"}),e.jsx(j,{value:"signup",children:"Sign Up"})]}),e.jsx(f,{value:"signin",className:"space-y-4 mt-6",children:e.jsxs("form",{onSubmit:s=>{s.preventDefault(),A()},className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"signin-email",children:"Email"}),e.jsx(r,{id:"signin-email",type:"email",value:c,onChange:s=>h(s.target.value),placeholder:"you@example.com"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"signin-password",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(r,{id:"signin-password",type:n?"text":"password",value:i,onChange:s=>p(s.target.value),placeholder:"••••••••",className:"pr-10"}),e.jsx(u,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2",onClick:()=>x(!n),children:n?e.jsx(b,{className:"h-4 w-4"}):e.jsx(v,{className:"h-4 w-4"})})]})]}),e.jsx(u,{type:"submit",className:"w-full",disabled:d,children:d?"Signing in...":"Sign In"})]})}),e.jsx(f,{value:"signup",className:"space-y-6 mt-6",children:e.jsxs("form",{onSubmit:s=>{s.preventDefault(),I()},className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"signup-email",children:"Email *"}),e.jsx(r,{id:"signup-email",type:"email",value:c,onChange:s=>h(s.target.value),placeholder:"you@example.com"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"display-name",children:"Full Name *"}),e.jsx(r,{id:"display-name",value:g,onChange:s=>S(s.target.value),placeholder:"Your full name"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"signup-password",children:"Password *"}),e.jsxs("div",{className:"relative",children:[e.jsx(r,{id:"signup-password",type:n?"text":"password",value:i,onChange:s=>p(s.target.value),placeholder:"••••••••",className:"pr-10"}),e.jsx(u,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2",onClick:()=>x(!n),children:n?e.jsx(b,{className:"h-4 w-4"}):e.jsx(v,{className:"h-4 w-4"})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"signup-confirm",children:"Confirm Password *"}),e.jsx(r,{id:"signup-confirm",type:n?"text":"password",value:m,onChange:s=>w(s.target.value),placeholder:"••••••••"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"font-medium text-sm text-muted-foreground uppercase tracking-wide",children:"Profile Information (Optional)"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"bio",children:"Bio"}),e.jsx(z,{id:"bio",value:C,onChange:s=>P(s.target.value),placeholder:"Tell us about yourself...",rows:3})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"location",children:"Location"}),e.jsx(r,{id:"location",value:E,onChange:s=>F(s.target.value),placeholder:"Your location"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"website",children:"Website"}),e.jsx(r,{id:"website",value:k,onChange:s=>B(s.target.value),placeholder:"https://yourwebsite.com"})]})]}),e.jsxs("div",{className:"bg-blue-50/50 p-4 rounded-lg border",children:[e.jsxs("p",{className:"text-sm text-blue-700 mb-2",children:[e.jsx("strong",{children:"Note:"})," All users start as Public Members. Business membership is invite-only."]}),e.jsx("p",{className:"text-xs text-blue-600",children:"Complete your profile after signup, then use an invite token to upgrade to Business Member."})]})]}),e.jsx(u,{type:"submit",className:"w-full",disabled:d,children:d?"Creating account...":"Create Public Account"})]})})]})})]})]})}export{M as default};
