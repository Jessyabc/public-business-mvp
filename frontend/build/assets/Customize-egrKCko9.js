import{H as q,u as D,t as J,r as h,s as E,q as u,j as e,bH as O,B as v,n as Z,h as K,i as Y,k as b,l as N,m as y,I as w}from"./index-0gfsL0uy.js";import{C as x,a as p,b as f,d as j,c as g}from"./card-DFvCEgtH.js";import{S as Q}from"./slider-C_vKHHgS.js";import{S as W}from"./save-Cyzo7cSc.js";import{B as X}from"./book-open-4voFbJVQ.js";import"./index-C5PDtfbs.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k=q("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]),S="theme-customization";function re(){const{user:c}=D(),T=J(),[i,P]=h.useState("public"),[n,o]=h.useState({public:{},business:{}}),[I,$]=h.useState(!0),[B,F]=h.useState(!1);h.useEffect(()=>{c||T("/auth")},[c,T]),h.useEffect(()=>{R()},[]);const R=async()=>{try{if(c){const{data:a,error:t}=await E.from("profiles").select("theme_settings").eq("id",c.id).single();if(!t&&a?.theme_settings&&typeof a.theme_settings=="object"){const r=a.theme_settings;if(r.public||r.business){o({public:r.public||{},business:r.business||{}}),m(r[i]||{}),$(!1);return}}}const s=localStorage.getItem(S);if(s){const a=JSON.parse(s);(a.public||a.business)&&(o(a),m(a[i]||{}))}}catch(s){console.error("Failed to load theme settings:",s),u.error("Failed to load theme settings")}finally{$(!1)}},m=s=>{const a=document.documentElement.style;s.colors&&Object.entries(s.colors).forEach(([t,r])=>{a.setProperty(`--${t}`,r)}),s.radii&&Object.entries(s.radii).forEach(([t,r])=>{a.setProperty(`--radius-${t}`,r)}),s.elevation&&Object.entries(s.elevation).forEach(([t,r])=>{a.setProperty(`--elevation-${t}`,r)}),s.effects&&Object.entries(s.effects).forEach(([t,r])=>{const l=t.replace(/([A-Z])/g,"-$1").toLowerCase();a.setProperty(`--${l}`,r)})},z=s=>{P(s),m(n[s])},M=()=>{m(n[i]),localStorage.setItem(S,JSON.stringify(n)),u.success(`${i.charAt(0).toUpperCase()+i.slice(1)} theme previewed locally`)},G=async()=>{if(!c){u.error("You must be logged in to save");return}F(!0);try{const{error:s}=await E.from("profiles").upsert({id:c.id,theme_settings:n});if(s)throw s;localStorage.setItem(S,JSON.stringify(n)),m(n[i]),await R(),u.success("Both themes saved to your account")}catch(s){console.error("Failed to save theme:",s),u.error("Failed to save theme")}finally{F(!1)}},_=async()=>{const s=O("public"),a=O("business"),t={public:{colors:{...s.colors},radii:{...s.radii},elevation:{...s.elevation},effects:Object.fromEntries(Object.entries(s.effects).map(([r,l])=>[r,String(l)]))},business:{colors:{...a.colors},radii:{...a.radii},elevation:{...a.elevation},effects:Object.fromEntries(Object.entries(a.effects).map(([r,l])=>[r,String(l)]))}};if(o(t),m(t[i]),localStorage.removeItem(S),c)try{await E.from("profiles").update({theme_settings:{}}).eq("id",c.id)}catch(r){console.error("Failed to clear saved theme:",r)}u.success("Both themes reverted to defaults")},A=(s,a)=>{o(t=>({...t,[i]:{...t[i],colors:{...t[i].colors||{},[s]:a}}}))},U=(s,a)=>{o(t=>({...t,[i]:{...t[i],radii:{...t[i].radii||{},[s]:a}}}))},H=(s,a)=>{o(t=>({...t,[i]:{...t[i],elevation:{...t[i].elevation||{},[s]:a}}}))},L=(s,a)=>{o(t=>({...t,[i]:{...t[i],effects:{...t[i].effects||{},[s]:a}}}))};if(I)return e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"Loading theme settings..."})]})});const C=O(i),d=n[i];return e.jsx("div",{className:"min-h-screen p-4 sm:p-6 bg-background pb-24",children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs("div",{className:"mb-6 sm:mb-8",children:[e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold mb-2",children:"Theme Customization"}),e.jsx("p",{className:"text-sm sm:text-base text-muted-foreground",children:"Customize your application's appearance with live preview"})]}),e.jsxs(x,{className:"mb-6",children:[e.jsxs(p,{children:[e.jsxs(f,{children:["Editing: ",i.charAt(0).toUpperCase()+i.slice(1)," Mode"]}),e.jsx(j,{children:"Switch between Public and Business themes"})]}),e.jsx(g,{children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4",children:[e.jsx(v,{onClick:()=>z("public"),variant:i==="public"?"default":"outline",className:"flex-1 w-full",children:"Public Mode"}),e.jsx(v,{onClick:()=>z("business"),variant:i==="business"?"default":"outline",className:"flex-1 w-full",children:"Business Mode"})]})})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4 mb-6",children:[e.jsxs(v,{onClick:M,variant:"outline",className:"gap-2 w-full sm:w-auto",children:[e.jsx(Z,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Preview Locally"}),e.jsx("span",{className:"sm:hidden",children:"Preview"})]}),e.jsxs(v,{onClick:G,disabled:B,className:"gap-2 w-full sm:w-auto",children:[e.jsx(W,{className:"w-4 h-4"}),B?"Saving...":"Save to Account"]}),e.jsxs(v,{onClick:_,variant:"destructive",className:"gap-2 w-full sm:w-auto",children:[e.jsx(k,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Revert to Defaults"}),e.jsx("span",{className:"sm:hidden",children:"Reset"})]})]}),e.jsxs(K,{defaultValue:"colors",className:"space-y-6",children:[e.jsxs(Y,{className:"grid w-full grid-cols-2 sm:grid-cols-3 md:grid-cols-5 gap-2",children:[e.jsx(b,{value:"colors",className:"text-xs sm:text-sm",children:"Colors"}),e.jsx(b,{value:"radii",className:"text-xs sm:text-sm",children:"Radii"}),e.jsx(b,{value:"elevation",className:"text-xs sm:text-sm",children:"Elevation"}),e.jsxs(b,{value:"effects",className:"text-xs sm:text-sm",children:[e.jsx("span",{className:"hidden sm:inline",children:"Glass Effects"}),e.jsx("span",{className:"sm:hidden",children:"Effects"})]}),e.jsxs(b,{value:"guide",className:"text-xs sm:text-sm col-span-2 sm:col-span-1",children:[e.jsx(X,{className:"w-4 h-4 sm:mr-2"}),e.jsx("span",{className:"hidden sm:inline",children:"Guide"})]})]}),e.jsx(N,{value:"colors",className:"space-y-4",children:e.jsxs(x,{children:[e.jsxs(p,{children:[e.jsx(f,{children:"Color Tokens"}),e.jsx(j,{children:"Customize the color palette"})]}),e.jsx(g,{className:"grid gap-6 md:grid-cols-2",children:Object.entries(C.colors).map(([s,a])=>e.jsxs("div",{className:"space-y-2",children:[e.jsx(y,{htmlFor:`color-${s}`,className:"capitalize",children:s.replace(/([A-Z])/g," $1").trim()}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(w,{id:`color-${s}`,type:"color",value:d.colors?.[s]||a,onChange:t=>A(s,t.target.value),className:"w-20 h-10"}),e.jsx(w,{type:"text",value:d.colors?.[s]||a,onChange:t=>A(s,t.target.value),className:"flex-1",placeholder:a})]})]},s))})]})}),e.jsx(N,{value:"radii",className:"space-y-4",children:e.jsxs(x,{children:[e.jsxs(p,{children:[e.jsx(f,{children:"Border Radii"}),e.jsx(j,{children:"Adjust corner roundness"})]}),e.jsx(g,{className:"grid gap-6 md:grid-cols-2",children:Object.entries(C.radii).map(([s,a])=>e.jsxs("div",{className:"space-y-2",children:[e.jsxs(y,{htmlFor:`radius-${s}`,className:"capitalize",children:[s," (",a,")"]}),e.jsx(w,{id:`radius-${s}`,type:"text",value:d.radii?.[s]||a,onChange:t=>U(s,t.target.value),placeholder:a})]},s))})]})}),e.jsx(N,{value:"elevation",className:"space-y-4",children:e.jsxs(x,{children:[e.jsxs(p,{children:[e.jsx(f,{children:"Elevation Shadows"}),e.jsx(j,{children:"Configure shadow depths"})]}),e.jsx(g,{className:"grid gap-6 md:grid-cols-2",children:Object.entries(C.elevation).map(([s,a])=>e.jsxs("div",{className:"space-y-2",children:[e.jsxs(y,{htmlFor:`elevation-${s}`,children:["Level ",s]}),e.jsx(w,{id:`elevation-${s}`,type:"text",value:d.elevation?.[Number(s)]||a,onChange:t=>H(Number(s),t.target.value),placeholder:a,className:"font-mono text-sm"})]},s))})]})}),e.jsx(N,{value:"effects",className:"space-y-4",children:e.jsxs(x,{children:[e.jsxs(p,{children:[e.jsx(f,{children:"Glass Effects"}),e.jsx(j,{children:"Adjust glass morphism properties"})]}),e.jsx(g,{className:"space-y-6",children:Object.entries(C.effects).map(([s,a])=>{const t=String(a),r=typeof a=="number"||!t.includes("hsl")&&!t.includes("rgba");return e.jsxs("div",{className:"space-y-2",children:[e.jsx(y,{htmlFor:`effect-${s}`,className:"capitalize",children:s.replace(/([A-Z])/g," $1").trim()}),r?e.jsxs("div",{className:"flex gap-4 items-center",children:[e.jsx(Q,{id:`effect-${s}`,min:0,max:s.includes("Blur")?50:20,step:s.includes("Blur")?1:.1,value:[parseFloat(d.effects?.[s]||a)],onValueChange:([l])=>L(s,l.toString()),className:"flex-1"}),e.jsx("span",{className:"text-sm text-muted-foreground w-12",children:d.effects?.[s]||a})]}):e.jsx(w,{id:`effect-${s}`,type:"text",value:d.effects?.[s]||a,onChange:l=>L(s,l.target.value),placeholder:a})]},s)})})]})}),e.jsx(N,{value:"guide",className:"space-y-4",children:e.jsxs(x,{children:[e.jsxs(p,{children:[e.jsx(f,{children:"Theme Customization Guide"}),e.jsx(j,{children:"Learn how to customize your theme effectively"})]}),e.jsxs(g,{className:"prose prose-sm dark:prose-invert max-w-none",children:[e.jsx("h4",{children:"Colors"}),e.jsx("p",{children:"Customize primary colors, backgrounds, and text colors. Use hex (#FF5733), RGB (rgb(255, 87, 51)), or HSL (hsl(11, 100%, 60%)) values."}),e.jsx("h4",{children:"Border Radii"}),e.jsx("p",{children:"Adjust corner roundness for UI elements. Common values: 0 (sharp), 0.5rem (subtle), 1rem (rounded), 9999px (pill)."}),e.jsx("h4",{children:"Elevation"}),e.jsx("p",{children:"Configure shadow depths for layered interfaces. Higher levels create more prominent shadows."}),e.jsx("h4",{children:"Glass Effects"}),e.jsx("p",{children:"Fine-tune glassmorphism properties like blur intensity and background opacity for the signature frosted glass look."}),e.jsx("h4",{children:"Tips"}),e.jsxs("ul",{children:[e.jsx("li",{children:'Use "Preview Locally" to test changes before saving'}),e.jsx("li",{children:"Both Public and Business themes can be customized independently"}),e.jsx("li",{children:'Use "Revert to Defaults" if you want to start fresh'})]})]})]})})]})]})})}export{re as default};
