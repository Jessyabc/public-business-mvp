import{x as l,d as c,j as e,P as m,B as x,y as h,C as u}from"./index-DdiXzYE2.js";import{u as g}from"./usePosts-Bi1tlgil.js";const b=()=>{const{data:t}=l(),{posts:n,loading:o}=g(),{isOpen:a,openComposer:i,closeComposer:d}=c(),r=n.filter(s=>s.kind==="BusinessInsight"&&s.mode==="business"&&s.org_id===t);return e.jsxs(m,{requireAuth:!0,children:[e.jsxs("div",{className:"max-w-4xl mx-auto space-y-6 p-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Organization Insights"}),e.jsx("p",{className:"text-muted-foreground",children:"Share insights with your organization members"})]}),t?e.jsxs(e.Fragment,{children:[e.jsxs(x,{onClick:()=>i(),children:[e.jsx(h,{className:"w-4 h-4 mr-2"}),"Share Insight"]}),e.jsx("div",{className:"space-y-4",children:o?e.jsx("div",{className:"text-center py-12 text-muted-foreground",children:"Loading insights..."}):r.length===0?e.jsx("div",{className:"text-center py-12 text-muted-foreground",children:"No insights yet. Be the first to share!"}):r.map(s=>e.jsxs("div",{className:"p-4 rounded-lg border backdrop-blur-sm",children:[s.title&&e.jsx("h3",{className:"font-semibold mb-2",children:s.title}),e.jsx("p",{children:s.content}),e.jsx("div",{className:"mt-2 text-xs text-muted-foreground",children:new Date(s.created_at).toLocaleDateString()})]},s.id))})]}):e.jsx("div",{className:"p-6 rounded-lg border backdrop-blur-sm text-center",children:e.jsx("p",{className:"text-muted-foreground",children:"You need to be a member of an organization to share insights."})})]}),e.jsx(u,{isOpen:a,onClose:d})]})};export{b as default};
