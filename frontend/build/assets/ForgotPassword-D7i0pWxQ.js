import{r as t,j as e,L as c,B as d,au as p,m as w,at as y,q as l,s as N}from"./index-0gfsL0uy.js";import{C as m,c as u,a as g,b as v,d as C}from"./card-DFvCEgtH.js";import{C as b}from"./circle-check-big-BI8Xdov1.js";import{A as x}from"./arrow-left-Mlk8Nz3C.js";function L(){const[r,h]=t.useState(""),[n,i]=t.useState(!1),[f,o]=t.useState(!1),j=async a=>{if(a.preventDefault(),!r){l.error("Please enter your email address");return}i(!0);try{const{error:s}=await N.auth.resetPasswordForEmail(r,{redirectTo:`${window.location.origin}/reset-password`});if(s)throw s;o(!0),l.success("Password reset email sent")}catch(s){console.error("Password reset failed:",s),l.error(s.message||"Failed to send reset email")}finally{i(!1)}};return f?e.jsx("div",{className:"min-h-[60vh] flex items-center justify-center px-4",children:e.jsx(m,{className:"w-full max-w-md",children:e.jsx(u,{className:"pt-6",children:e.jsxs("div",{className:"flex flex-col items-center text-center space-y-4",children:[e.jsx(b,{className:"h-16 w-16 text-green-500"}),e.jsx("h2",{className:"text-2xl font-bold",children:"Check Your Email"}),e.jsxs("p",{className:"text-muted-foreground",children:["We've sent a password reset link to ",e.jsx("strong",{children:r}),". Please check your inbox and follow the instructions."]}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Didn't receive the email? Check your spam folder or"," ",e.jsx("button",{onClick:()=>o(!1),className:"text-primary underline hover:no-underline",children:"try again"})]}),e.jsx(c,{to:"/auth",className:"mt-4",children:e.jsxs(d,{variant:"outline",children:[e.jsx(x,{className:"h-4 w-4 mr-2"}),"Back to Sign In"]})})]})})})}):e.jsx("div",{className:"min-h-[60vh] flex items-center justify-center px-4",children:e.jsxs(m,{className:"w-full max-w-md",children:[e.jsxs(g,{className:"text-center",children:[e.jsx("div",{className:"mx-auto mb-4 h-12 w-12 rounded-full bg-primary/10 flex items-center justify-center",children:e.jsx(p,{className:"h-6 w-6 text-primary"})}),e.jsx(v,{children:"Forgot Your Password?"}),e.jsx(C,{children:"Enter your email address and we'll send you a link to reset your password."})]}),e.jsx(u,{children:e.jsxs("form",{onSubmit:j,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(w,{htmlFor:"email",children:"Email Address"}),e.jsx(y,{id:"email",type:"email",placeholder:"your@email.com",value:r,onChange:a=>h(a.target.value),required:!0})]}),e.jsx(d,{type:"submit",className:"w-full",disabled:n,children:n?"Sending...":"Send Reset Link"}),e.jsx("div",{className:"text-center",children:e.jsxs(c,{to:"/auth",className:"text-sm text-muted-foreground hover:text-primary underline",children:[e.jsx(x,{className:"h-3 w-3 inline mr-1"}),"Back to Sign In"]})})]})})]})})}export{L as default};
