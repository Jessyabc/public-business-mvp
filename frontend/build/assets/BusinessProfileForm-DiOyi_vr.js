import{r as D,aJ as L,j as e,aL as V,aM as l,aN as o,aO as c,aP as i,at as x,aQ as d,B as f,aK as k,aR as M,aS as W,aT as h,aU as G}from"./index-DdiXzYE2.js";import{S as j,a as u,b as p,c as b,d as t}from"./select-ZkE_QomC.js";import{C as w,a as P,b as B,d as z,c as F}from"./card-CVxPj8sa.js";import{u as H}from"./useBusinessProfile-CX-pLqdA.js";const J=W({company_name:h().min(2,"Company name must be at least 2 characters"),industry_id:h().optional(),department_id:h().optional(),company_size:h().optional(),phone:h().optional(),website:h().url("Please enter a valid URL").optional().or(G("")),bio:h().max(500,"Bio must be less than 500 characters").optional()});function X({onSuccess:E,onClose:N,compact:I=!1,isReadOnly:a=!1}){const{profile:m,industries:y,departments:v,loading:C,createProfile:T,updateProfile:U}=H(),[g,S]=D.useState(!1),r=L({resolver:k(J),defaultValues:{company_name:m?.company_name||"",industry_id:m?.industry_id||"",department_id:m?.department_id||"",company_size:m?.company_size||void 0,phone:m?.phone||"",website:m?.website||"",bio:m?.bio||""}}),_=async s=>{S(!0);try{s.website=M(s.website),m?await U(s):await T(s),E?.()}catch(n){console.error("Error submitting business profile:",n)}finally{S(!1)}};return I?e.jsxs(w,{className:"glass-business-card animate-scale-in",children:[e.jsxs(P,{children:[e.jsx(B,{className:"text-foreground",children:"Business Information"}),e.jsx(z,{className:"text-muted-foreground",children:a?"View your business information (read-only)":"Update your business details and company information."})]}),e.jsx(F,{children:e.jsx(V,{...r,children:e.jsxs("form",{onSubmit:r.handleSubmit(_),className:"space-y-6",children:[e.jsx(l,{control:r.control,name:"company_name",render:({field:s})=>e.jsxs(o,{children:[e.jsx(c,{className:"text-foreground",children:"Company Name"}),e.jsx(i,{children:e.jsx(x,{placeholder:"Enter your company name",...s,disabled:a})}),e.jsx(d,{})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(l,{control:r.control,name:"industry_id",render:({field:s})=>e.jsxs(o,{children:[e.jsx(c,{className:"text-foreground",children:"Industry"}),e.jsxs(j,{onValueChange:s.onChange,defaultValue:s.value,disabled:a,children:[e.jsx(i,{children:e.jsx(u,{className:"glass-business-card",disabled:a,children:e.jsx(p,{placeholder:"Select industry"})})}),e.jsx(b,{children:y.map(n=>e.jsx(t,{value:n.id,children:n.name},n.id))})]}),e.jsx(d,{})]})}),e.jsx(l,{control:r.control,name:"department_id",render:({field:s})=>e.jsxs(o,{children:[e.jsx(c,{className:"text-foreground",children:"Department"}),e.jsxs(j,{onValueChange:s.onChange,defaultValue:s.value,disabled:a,children:[e.jsx(i,{children:e.jsx(u,{className:"glass-business-card",disabled:a,children:e.jsx(p,{placeholder:"Select department"})})}),e.jsx(b,{children:v.map(n=>e.jsx(t,{value:n.id,children:n.name},n.id))})]}),e.jsx(d,{})]})})]}),e.jsx(l,{control:r.control,name:"company_size",render:({field:s})=>e.jsxs(o,{children:[e.jsx(c,{className:"text-foreground",children:"Company Size"}),e.jsxs(j,{onValueChange:s.onChange,defaultValue:s.value,disabled:a,children:[e.jsx(i,{children:e.jsx(u,{className:"glass-business-card",disabled:a,children:e.jsx(p,{placeholder:"Select company size"})})}),e.jsxs(b,{children:[e.jsx(t,{value:"1-10",children:"1-10 employees"}),e.jsx(t,{value:"11-50",children:"11-50 employees"}),e.jsx(t,{value:"51-200",children:"51-200 employees"}),e.jsx(t,{value:"201-1000",children:"201-1000 employees"}),e.jsx(t,{value:"1000+",children:"1000+ employees"})]})]}),e.jsx(d,{})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(l,{control:r.control,name:"phone",render:({field:s})=>e.jsxs(o,{children:[e.jsx(c,{className:"text-foreground",children:"Phone"}),e.jsx(i,{children:e.jsx(x,{placeholder:"Enter phone number",...s,disabled:a})}),e.jsx(d,{})]})}),e.jsx(l,{control:r.control,name:"website",render:({field:s})=>e.jsxs(o,{children:[e.jsx(c,{className:"text-foreground",children:"Website"}),e.jsx(i,{children:e.jsx(x,{placeholder:"https://example.com",...s,disabled:a})}),e.jsx(d,{})]})})]}),e.jsx(l,{control:r.control,name:"bio",render:({field:s})=>e.jsxs(o,{children:[e.jsx(c,{className:"text-foreground",children:"Company Bio"}),e.jsx(i,{children:e.jsx(x,{as:"textarea",placeholder:"Tell us about your company...",className:"min-h-[100px]",...s,disabled:a})}),e.jsx(d,{})]})}),!a&&e.jsx(f,{type:"submit",className:"w-full",disabled:C||g,children:g?"Saving...":"Save Changes"})]})})})]}):e.jsx("div",{className:"min-h-screen bg-background p-6 pb-32 animate-fade-in",children:e.jsx("div",{className:"max-w-2xl mx-auto space-y-6",children:e.jsxs(w,{className:"glass-business-card animate-scale-in",children:[e.jsxs(P,{children:[e.jsx(B,{className:"text-foreground",children:"Business Information"}),e.jsx(z,{className:"text-muted-foreground",children:a?"View your business information (read-only)":"Provide your business details for verification and access to business features."})]}),e.jsx(F,{children:e.jsx(V,{...r,children:e.jsxs("form",{onSubmit:r.handleSubmit(_),className:"space-y-6",children:[e.jsx(l,{control:r.control,name:"company_name",render:({field:s})=>e.jsxs(o,{children:[e.jsx(c,{className:"text-foreground",children:"Company Name"}),e.jsx(i,{children:e.jsx(x,{placeholder:"Enter your company name",...s,disabled:a})}),e.jsx(d,{})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(l,{control:r.control,name:"industry_id",render:({field:s})=>e.jsxs(o,{children:[e.jsx(c,{className:"text-foreground",children:"Industry"}),e.jsxs(j,{onValueChange:s.onChange,defaultValue:s.value,disabled:a,children:[e.jsx(i,{children:e.jsx(u,{className:"glass-business-card",disabled:a,children:e.jsx(p,{placeholder:"Select industry"})})}),e.jsx(b,{children:y.map(n=>e.jsx(t,{value:n.id,children:n.name},n.id))})]}),e.jsx(d,{})]})}),e.jsx(l,{control:r.control,name:"department_id",render:({field:s})=>e.jsxs(o,{children:[e.jsx(c,{className:"text-foreground",children:"Department"}),e.jsxs(j,{onValueChange:s.onChange,defaultValue:s.value,disabled:a,children:[e.jsx(i,{children:e.jsx(u,{className:"glass-business-card",disabled:a,children:e.jsx(p,{placeholder:"Select department"})})}),e.jsx(b,{children:v.map(n=>e.jsx(t,{value:n.id,children:n.name},n.id))})]}),e.jsx(d,{})]})})]}),e.jsx(l,{control:r.control,name:"company_size",render:({field:s})=>e.jsxs(o,{children:[e.jsx(c,{className:"text-foreground",children:"Company Size"}),e.jsxs(j,{onValueChange:s.onChange,defaultValue:s.value,disabled:a,children:[e.jsx(i,{children:e.jsx(u,{className:"glass-business-card",disabled:a,children:e.jsx(p,{placeholder:"Select company size"})})}),e.jsxs(b,{children:[e.jsx(t,{value:"1-10",children:"1-10 employees"}),e.jsx(t,{value:"11-50",children:"11-50 employees"}),e.jsx(t,{value:"51-200",children:"51-200 employees"}),e.jsx(t,{value:"201-1000",children:"201-1000 employees"}),e.jsx(t,{value:"1000+",children:"1000+ employees"})]})]}),e.jsx(d,{})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(l,{control:r.control,name:"phone",render:({field:s})=>e.jsxs(o,{children:[e.jsx(c,{className:"text-foreground",children:"Phone"}),e.jsx(i,{children:e.jsx(x,{placeholder:"Enter phone number",...s,disabled:a})}),e.jsx(d,{})]})}),e.jsx(l,{control:r.control,name:"website",render:({field:s})=>e.jsxs(o,{children:[e.jsx(c,{className:"text-foreground",children:"Website"}),e.jsx(i,{children:e.jsx(x,{placeholder:"https://example.com",...s,disabled:a})}),e.jsx(d,{})]})})]}),e.jsx(l,{control:r.control,name:"bio",render:({field:s})=>e.jsxs(o,{children:[e.jsx(c,{className:"text-foreground",children:"Company Bio"}),e.jsx(i,{children:e.jsx(x,{as:"textarea",placeholder:"Tell us about your company...",className:"min-h-[100px]",...s,disabled:a})}),e.jsx(d,{})]})}),!a&&e.jsxs("div",{className:"flex gap-4",children:[N&&e.jsx(f,{type:"button",variant:"outline",onClick:N,className:"flex-1",children:"Cancel"}),e.jsx(f,{type:"submit",className:"flex-1",disabled:C||g,children:g?"Saving...":m?"Update Profile":"Create Profile"})]})]})})})]})})})}export{X as B};
